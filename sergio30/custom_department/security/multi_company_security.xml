<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Regla para res.partner: Usuarios solo ven contactos de sus compañías -->
        <record id="res_partner_multi_company_rule" model="ir.rule">
            <field name="name">res.partner.multi.company.rule</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="domain_force">['|', ('company_id','=',False), ('company_id','in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Regla para crm.lead: Usuarios solo ven oportunidades de sus compañías -->
        <record id="crm_lead_multi_company_rule" model="ir.rule">
            <field name="name">crm.lead.multi.company.rule</field>
            <field name="model_id" ref="model_crm_lead"/>
            <field name="domain_force">['|', ('company_id','=',False), ('company_id','in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <!-- Regla para res.partner.department: Departamentos por compañía -->
        <record id="res_partner_department_multi_company_rule" model="ir.rule">
            <field name="name">res.partner.department.multi.company.rule</field>
            <field name="model_id" ref="model_res_partner_department"/>
            <field name="domain_force">['|', ('company_id','=',False), ('company_id','in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>

    </data>
</odoo>